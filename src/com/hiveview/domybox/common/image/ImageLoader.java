package com.hiveview.domybox.common.image;import java.io.InputStream;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import com.hiveview.domybox.service.exception.ServiceException;import com.hiveview.domybox.service.net.BaseHttpGetConnector;import com.hiveview.domybox.service.net.HttpGetConnector;import com.hiveview.domybox.service.request.BaseGetRequest;public class ImageLoader implements Runnable{		private String imageUrl;	private ImageLoaderListener loadListener;		@SuppressWarnings("unused")	private ImageLoader(){};		public ImageLoader(String imageUrl,ImageLoaderListener loadListener) {				this.imageUrl = imageUrl;		this.loadListener = loadListener;			}	@Override	public void run() {				try{			BaseGetRequest request = new ImageRequest(imageUrl);			BaseHttpGetConnector connector = new HttpGetConnector(request);			InputStream in = connector.getGetResponse();			Bitmap bitmap = null;			if(in!=null)				bitmap = BitmapFactory.decodeStream(in);						if(bitmap!=null){				loadListener.onComplete(imageUrl,bitmap);			}else{				loadListener.onFailure();			}					}catch (ServiceException e) {			if(loadListener!=null)				loadListener.onFailure();					}					}	   public interface ImageLoaderListener{	   	   public void onFailure();	   public void onComplete(String imageUrl ,Bitmap bitmap); 	      }}